{% include "header.html" with page="admin" css="admin" title="Adelie Online" %}
{% if user.is_authenticated %}
<div class="container-fluid">
    <div class="row">
        <div class="span4">
            <div class="hero-unit" id="leftHolder">
                <input type="button" value="Add a Game" onClick="window.location = '/admin'" />
            </div>
        </div>
        <div class="span13" id="rightHolder">
            <table>
                <tr><th>Game Title</th><th>Credit Given?</th><th>View/Give Credit</th></tr>
                {% for game in games %}
                    <tr>
                    <td>{{ game.title }}</td>
                    <td>{{ game.credited }}</td>
                    {% if game.credited %}
                        <td><a href="/admin/showcredit/{{ game.id }}">View Credit</a></td>
                    {% else %}
                        <td><button onClick="giveCredit({{ game.id }})">Give Credit</button></td>
                    {% endif %}
                    </tr>
                {% endfor %}
            </table>
            <div id="addConsole">
                <table id="consoleTable">
                    <tr><th>Console Name</th><th>Edit/Add Console</th></tr>
                    {% for console in consoles %}
                        <tr>
                            <td><input type="text" id="console_{{ console.id }}" value="{{ console.name }}" /></td>
                            <td><button onClick="editConsole({{ console.id }})">Edit Console</button></td>
                        </tr>
                    {% endfor %}
                    <tr>
                        <td><input type="text" id="newConsole" /></td>
                        <td><button onClick="addConsole()">Add Console</button></td>
                    </tr>
                </table>
            </div>
            <div id="AddGames">
                <span class="error" id="unknownError">There was an unknown error, please try again later</span>
                <span class="error" id="titleBlank">Please enter a game title</span>
                <span class="error" id="titleDuplicate">Game Title already exists</span>
                <label>Game Title:</label>
                <input type="text" name="gameTitle" id="gameTitle" /><br />
                
                <span class="error" id="tagBlank">Please enter a tag line</span>
                <label>Tag Line:</label>
                <input type="text" name="gameTagline" id="gameTagline" /><br />
                
                <span class="error" id="publisherBlank">Please enter a publisher</span>
                <label>Publisher:</label>
                <input type="text" name="gamePublisher" id="gamePublisher" /><br />
                
                <span class="error" id="priceBlank">Please enter a price</span>
                <span class="error" id="priceBelowZero">Please enter a price above 0</span>
                <label>Price: $</label>
                <input type="text" name="gamePrice" id="gamePrice" value="{{ game.price }}"/><br />
                
                <span class="error" id="descBlank">Please enter a description of the game</span>
                <label>Description:</label>
                <textarea name="gameDesc" id="gameDesc"></textarea><br />
                
                <span class="error" id="startBlank">Please enter a start date</span>
                <span class="error" id="timeDiff">Make sure the end date is later than the start date</span>
                <label>Preorder Start Time:</label>
                <input type="text" name="gameStart" id="gameStart" autoComplete="off" />
                <input type="text" name="gameStartTime" id="gameStartTime" class="time"><br />
                
                <span class="error" id="endBlank">Please enter an end date</span>
                <label>Preorder End Time:</label>
                <input type="text" name="gameEnd" id="gameEnd" autoComplete="off" />
                <input type="text" name="gameEndTime" id="gameEndTime" class="time"><br />
                
                <span class="error" id="shipError">Shipping date must be later than end date</span>
                <span class="error" id="shipBlank">Please enter a shipping date</span>
                <label>Game Shipping Date</label>
                <input type="text" name="gameShip" id="gameShip" autoComplete="off" /><br />
                
                <span class="error" id="consoleBlank">Please select at least one console</span>
                <label>Consoles:</label>
                <select id="gameConsoles" multiple>
                    {% for console in consoles %}
                        <option value="{{ console.id }}">{{ console.name }}</option>
                    {% endfor %}
                </select>
                <p>You can add pictures and trailers on the next page</p>
                
                <button id="submitBtn" onClick="submitGame()">Add Game</button>
            </div>
        </div>
    </div>
</div>
{% else %}
<h3>Please go back to the home page. Thank you.</h3>
{% endif %}
{% include "footer.html" with js="admin" %}